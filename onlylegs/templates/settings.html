{% extends 'base.html' %}
{% block nav_settings %}selected{% endblock %}

{% block header %}
    <div class="banner-small">
        <div class="banner-content">
            <h1 class="banner-header">Settings</h1>
            <p class="banner-info">{% block banner_subtitle%}{% endblock %}</p>
            <div class="pill-row">
                <div>
                    <a class="pill-item pill__critical" href="{{ url_for( 'auth.logout' ) }}"><i class="ph ph-sign-out"></i></a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <details open>
        <summary>
            <i class="ph ph-info"></i><h2>Profile</h2><span style="width: 100%"></span>
            <i class="ph ph-caret-down collapse-indicator"></i>
        </summary>

        <form method="POST" action="{{ url_for('api.account_picture', user_id=current_user.id) }}" enctype="multipart/form-data">
            <h3>Profile Picture</h3>
            <input type="file" name="file" tab-index="-1"/>
            <input type="submit" value="Upload" class="btn-block">
        </form>
        <form method="POST" action="{{ url_for('api.account_username', user_id=current_user.id) }}" enctype="multipart/form-data">
            <h3>Username</h3>
            <input type="text" name="name" class="input-block" value="{{ current_user.username }}" />
            <input type="submit" value="Upload" class="btn-block"/>
        </form>
    </details>

    <details open>
        <summary>
            <i class="ph ph-info"></i><h2>Account</h2><span style="width: 100%"></span>
            <i class="ph ph-caret-down collapse-indicator"></i>
        </summary>

        <form method="POST" action="" enctype="multipart/form-data">
                <h3>Email</h3>
                <input type="text" name="email" class="input-block" value="{{ current_user.email }}" />
                <input type="submit" value="Upload" class="btn-block"/>
            </form>
    </details>
{% endblock %}
